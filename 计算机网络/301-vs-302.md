# 301-vs-302

## 相同点

用户看到 URL 替换成了一个新的

## 不同点

选择错误的重定向，可能会导致 SEO 问题

||301|302|
|:---|:---|:---|
|定义|永久重定向|临时重定向|
|含义|请求资源已永久移动到新位置，并且将来任何对此资源的引用都应该使用本响应返回的若干个 URL 之一。如果可能，拥有链接编辑功能的客户端应当自动把请求的地址修改为从服务器反馈回来的地址。除非额外指定，否则这个响应也是可缓存的|请求的资源现在临时从不同的 URI 响应请求，由于这样的重定向是临时的，客户端应该继续想原有地址发送以后的请求。只有在 Cache-Control 或 expires 中进行了指定的情况下，这个响应才是可缓存的。|
|请求方式| post 请求会被转换为 get 请求|post 请求会被转换为 get 请求|
|缓存|默认给一个很长的缓存 status code 后面写着 from cache|不缓存|
|搜索引擎| 旧地址 A 的资源不可访问（永久移除），重定向到网址B，搜索引擎会抓去网页B的内容，同时将网址保存为 B 网址|旧地址 A 的资源仍可访问，那个重定向只是临时从旧地址 A 跳转到 B 地址，这是搜索引擎会抓取 B 网址内容，但是会将网址保存为 A 的|
|使用场景|域名跳转 http://www.baidu.com --> https://www.baidu.com；或者将网页的名称从 php 修改为 html 也会发生永久重定向；网站结构改变；网站路径改变，防止损失流量；baidu.com -> www.baidu.com<br/>你将永久更改网页的 URL 时<br/>你将永久迁移到新域名时<br/>从 HTTP 切换到 HTTPS<br/>修复非 www/wwww 重复内容时<br/>永久合并两个或多个页面或网站时<br/>永久更改网站的 URL 结构时| 未登陆的用户访问用户中心重定向到登陆页面<br/>将用户重定向到正确的网站版本（基于位置/语言）<br/>要对网页的功能或设计进行 A/B 拆分测试时<br/>在不影响旧网页排名的情况下获得新页面的反馈<br/>进行促销|


## 安全

尽量使用 301 跳转，以防止网址劫持

在使用 302 的时候，搜索引擎可能会准确的判定网址，造成了 URL 被劫持的可能。地址栏展示的是的是 A 的 URL，但是内容展示的
是 B 的内容。这让会让人以为 A 才是真正的网址。


# 参考链接

* [掘金-前端面试：httpcode 301和302的区别](https://juejin.cn/post/6844904097733165069)
* [简书-前端面试：http状态码301和302详解及区别](https://www.jianshu.com/p/995a3000f7d6)
* [SEO的301和302重定向: 应该使用哪个？](https://ahrefs.com/blog/zh/301-vs-302-redirects/)
